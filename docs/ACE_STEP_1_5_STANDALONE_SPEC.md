# ACE-Step 1.5 Text-to-Audio ç‹¬ç«‹Webã‚¢ãƒ—ãƒªä»•æ§˜æ›¸

## æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ComfyUIã«ä¾å­˜ã›ãšã€ACE-Step 1.5ã®REST APIã‚’ç›´æ¥ä½¿ç”¨ã—ã¦éŸ³æ¥½ç”ŸæˆWebã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®æŠ€è¡“ä»•æ§˜ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

---

## ç›®æ¬¡

1. [ACE-Step 1.5 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#1-ace-step-15-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
2. [GUIä»•æ§˜](#2-guiä»•æ§˜)
3. [å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»•æ§˜](#3-å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»•æ§˜)
   - [3.7 åˆ©ç”¨å¯èƒ½ãªAPIã‚ªãƒ—ã‚·ãƒ§ãƒ³ä¸€è¦§](#37-åˆ©ç”¨å¯èƒ½ãªapiã‚ªãƒ—ã‚·ãƒ§ãƒ³ä¸€è¦§)
4. [ACE-Step 1.5 æ¨è«–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³](#4-ace-step-15-æ¨è«–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³)
5. [LLMé€£æºä»•æ§˜ï¼ˆè©³ç´°ï¼‰](#5-llmé€£æºä»•æ§˜è©³ç´°)
6. [ãƒ¢ãƒ‡ãƒ«ä»•æ§˜](#6-ãƒ¢ãƒ‡ãƒ«ä»•æ§˜)
7. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹](#7-ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹)
8. [REST API è©³ç´°ä»•æ§˜](#8-rest-api-è©³ç´°ä»•æ§˜)
9. [ç‹¬ç«‹Webã‚¢ãƒ—ãƒªå®Ÿè£…ã‚¬ã‚¤ãƒ‰](#9-ç‹¬ç«‹webã‚¢ãƒ—ãƒªå®Ÿè£…ã‚¬ã‚¤ãƒ‰)
10. [å‚è€ƒãƒªãƒ³ã‚¯](#11-å‚è€ƒãƒªãƒ³ã‚¯)

---

## 1. ACE-Step 1.5 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 1.1 ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (Web UI)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ãƒ†ãƒ¼ãƒå…¥åŠ›    â”‚  â”‚ æ­Œè©ã‚¨ãƒ‡ã‚£ã‚¿  â”‚  â”‚ éŸ³æ¥½ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ â”‚          â”‚
â”‚  â”‚ (ã‚·ãƒŠãƒªã‚ª)    â”‚  â”‚ (Lyrics)     â”‚  â”‚ BPM/Key/æ‹å­  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                 â”‚                 â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚               API Client Layer                    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Backend API Server                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ LLM Service â”‚  â”‚ Job Manager â”‚  â”‚ File Storageâ”‚             â”‚
â”‚  â”‚ (ä½œè©/ã‚¿ã‚°) â”‚  â”‚ (éåŒæœŸå‡¦ç†) â”‚  â”‚ (éŸ³å£°ä¿å­˜)  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ACE-Step 1.5 Inference Engine                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ace_step_1.5_turbo_aio.safetensors (All-in-One Model)   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ DiT (Diffusion Transformer)                           â”‚   â”‚
â”‚  â”‚ â€¢ DCAE (Deep Compression AutoEncoder)                   â”‚   â”‚
â”‚  â”‚ â€¢ Text Encoder (å¤šè¨€èªå¯¾å¿œ)                              â”‚   â”‚
â”‚  â”‚ â€¢ VAE Decoder (Audio)                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 å‡¦ç†ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®Œå…¨è‡ªå‹•ç”Ÿæˆãƒ•ãƒ­ãƒ¼                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â‘  ãƒ†ãƒ¼ãƒå…¥åŠ›        â‘¡ AIä½œè©           â‘¢ ã‚¿ã‚°ç”Ÿæˆ              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ "é­”æ³•å°‘å¥³ â”‚ â”€â”€â”€â–¶ â”‚ LLM API  â”‚ â”€â”€â”€â–¶ â”‚ LLM API  â”‚            â”‚
â”‚  â”‚ ã®ç‰©èª"  â”‚       â”‚ æ­Œè©ç”Ÿæˆ  â”‚       â”‚ ã‚¸ãƒ£ãƒ³ãƒ«/ â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚ ã‚¿ã‚°æ¨å¥¨  â”‚            â”‚
â”‚                          â”‚              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                          â–¼                   â–¼                   â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                     â”‚        æ­Œè© + ã‚¿ã‚°          â”‚              â”‚
â”‚                     â”‚ + BPM/Key/æ‹å­ (è‡ªå‹•æŠ½å‡º)   â”‚              â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                  â–¼                               â”‚
â”‚                     â‘£ ACE-Step 1.5 æ¨è«–                         â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                     â”‚ TextEncode â†’ Sample  â”‚                    â”‚
â”‚                     â”‚ â†’ VAE Decode â†’ MP3   â”‚                    â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                â–¼                                 â”‚
â”‚                     â‘¤ éŸ³å£°å‡ºåŠ› (WAV/MP3)                        â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                     â”‚ ğŸµ generated_music.mp3â”‚                    â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. GUIä»•æ§˜

### 2.1 ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸµ ACE-Step 1.5 Music Generator                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ’¡ ãƒ†ãƒ¼ãƒ / ã‚·ãƒŠãƒªã‚ª      â”‚  â”‚ ğŸµ ã‚¿ã‚° / ã‚¸ãƒ£ãƒ³ãƒ«            â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ å¤œç©ºã‚’è¦‹ä¸Šã’ã¦é¡˜ã„ã‚’  â”‚ â”‚  â”‚ â”‚ Neo-Soul, warm, organic, â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ è¾¼ã‚ã‚‹é­”æ³•å°‘å¥³ã®ç‰©èª  â”‚ â”‚  â”‚ â”‚ female voice, emotional  â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                         â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚ ğŸ“ æ­Œè© / Lyrics        â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”‚ ğŸ¹ BPM     â”‚ 120        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ [intro]             â”‚ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚
â”‚  â”‚ â”‚ [inst]              â”‚ â”‚  â”‚ â”‚ ğŸ¼ æ‹å­    â”‚ 4/4        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                     â”‚ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚
â”‚  â”‚ â”‚ [verse]             â”‚ â”‚  â”‚ â”‚ ğŸµ èª¿      â”‚ A minor    â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ æ˜Ÿã®æµ·ã«æµ®ã‹ã¶é¡˜ã„ãŒ â”‚ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚ â”‚ å¤œç©ºã‚’é§†ã‘å·¡ã‚‹      â”‚ â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚ â”‚ ...                 â”‚ â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â”‚ ğŸ§ ç”Ÿæˆçµæœ               â”‚ â”‚  â”‚
â”‚  â”‚                         â”‚  â”‚ â”‚  â–¶ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 00:00    â”‚ â”‚  â”‚
â”‚  â”‚                         â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸŒ è¨€èª â”‚ â±ï¸ é•·ã• â”‚ ğŸ”„ Steps â”‚ ğŸ¯ CFG â”‚ ğŸ² Seed        â”‚   â”‚
â”‚  â”‚  [ja]  â”‚ [120ç§’] â”‚   [8]   â”‚ [1.0] â”‚ [random]       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ğŸ¼ ä½œè© â”‚  â”‚ğŸµ ã‚¿ã‚° â”‚  â”‚âœ¨ ç”Ÿæˆ â”‚  â”‚ğŸš€ AUTO â”‚  â”‚ğŸ”„ Resetâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä»•æ§˜

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | ã‚¿ã‚¤ãƒ— | å¿…é ˆ | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | ç¯„å›²/ã‚ªãƒ—ã‚·ãƒ§ãƒ³ |
|-----------|--------|------|------|-----------|----------------|
| ãƒ†ãƒ¼ãƒ/ã‚·ãƒŠãƒªã‚ª | text | â—‹ (AIä½œè©æ™‚) | æ›²ã®ãƒ†ãƒ¼ãƒãƒ»ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ | - | è‡ªç”±å…¥åŠ› |
| æ­Œè© (Lyrics) | textarea | â–³ | æ­Œè©ãƒ†ã‚­ã‚¹ãƒˆï¼ˆæ§‹é€ ã‚¿ã‚°ä»˜ãï¼‰ | - | [verse],[chorus]ç­‰ |
| ã‚¿ã‚°/ã‚¸ãƒ£ãƒ³ãƒ« | textarea | â—‹ | ã‚¸ãƒ£ãƒ³ãƒ«ã€ã‚¹ã‚¿ã‚¤ãƒ«ã€æ¥½å™¨ç­‰ | - | è‡ªç”±å…¥åŠ› |
| BPM | number | â—‹ | ãƒ†ãƒ³ãƒï¼ˆ1åˆ†é–“ã®æ‹æ•°ï¼‰ | 120 | 10-300 |
| æ‹å­ | select | â—‹ | æ‹å­è¨˜å· | 4 | 2, 3, 4, 6 |
| èª¿ (Key) | select | â—‹ | éŸ³æ¥½ã®ã‚­ãƒ¼ | C major | C-B Ã— major/minor |
| è¨€èª | select | â—‹ | æ­Œè©ã®è¨€èª | ja | en,ja,zh,ko,es,fr,de,pt,ru,it... |
| é•·ã• (ç§’) | number | â—‹ | ç”Ÿæˆã™ã‚‹éŸ³æ¥½ã®é•·ã• | 30 | 10-600 |
| Steps | number | â—‹ | æ¨è«–ã‚¹ãƒ†ãƒƒãƒ—æ•° | 8 | 4-50 |
| CFG | number | â—‹ | Classifier-Free Guidance | 1.0 | 0.5-5.0 |
| Seed | number | - | ä¹±æ•°ã‚·ãƒ¼ãƒ‰ | random | 0-2^64 |

### 2.3 æ­Œè©æ§‹é€ ã‚¿ã‚°

ACE-Step 1.5ãŒèªè­˜ã™ã‚‹æ§‹é€ ã‚¿ã‚°ï¼š

| ã‚¿ã‚° | èª¬æ˜ | æ¨å¥¨æ™‚é–“ |
|------|------|---------|
| `[intro]` | ã‚¤ãƒ³ãƒˆãƒ­ | 5-10ç§’ |
| `[verse]` | Aãƒ¡ãƒ­/Bãƒ¡ãƒ­ | 15-25ç§’ |
| `[chorus]` | ã‚µãƒ“ | 20-30ç§’ |
| `[bridge]` | ãƒ–ãƒªãƒƒã‚¸ | 10-15ç§’ |
| `[outro]` | ã‚¢ã‚¦ãƒˆãƒ­ | 5-10ç§’ |
| `[inst]` | ã‚¤ãƒ³ã‚¹ãƒˆã‚¥ãƒ«ãƒ¡ãƒ³ã‚¿ãƒ«ï¼ˆæ­Œãªã—ï¼‰ | ä»»æ„ |
| `[pre-chorus]` | ãƒ—ãƒªã‚³ãƒ¼ãƒ©ã‚¹ | 10-15ç§’ |

---

## 3. REST APIä»•æ§˜

### 3.1 API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------------|---------|------|
| `/api/generate` | POST | éŸ³æ¥½ç”Ÿæˆã‚¸ãƒ§ãƒ–ã‚’æŠ•å…¥ |
| `/api/utility` | POST | ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‡¦ç†ï¼ˆä½œè©/ã‚¿ã‚°ç”Ÿæˆï¼‰ |
| `/api/job/{job_id}` | GET | ã‚¸ãƒ§ãƒ–ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å–å¾— |
| `/ws/progress/{job_id}` | WebSocket | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—é€šçŸ¥ |
| `/output/{filename}` | GET | ç”Ÿæˆã•ã‚ŒãŸéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«å–å¾— |

### 3.2 éŸ³æ¥½ç”Ÿæˆ API

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```http
POST /api/generate
Content-Type: application/json

{
  "workflow": "ace_step_1_5_t2a",
  "tags": "Neo-Soul, warm, organic, female voice, emotional, live instrumentation",
  "lyrics": "[intro]\n[inst]\n\n[verse]\næ˜Ÿã®æµ·ã«æµ®ã‹ã¶é¡˜ã„ãŒ\nå¤œç©ºã‚’é§†ã‘å·¡ã‚‹\n...",
  "duration": 120,
  "bpm": 120,
  "timesignature": "4",
  "language": "ja",
  "keyscale": "A minor",
  "steps": 8,
  "cfg": 1.0,
  "seed": 12345
}
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è©³ç´°

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| workflow | string | â—‹ | `"ace_step_1_5_t2a"` å›ºå®š |
| tags | string | â—‹ | ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»æ¥½å™¨ç­‰ |
| lyrics | string | â–³ | æ­Œè©ï¼ˆç©ºã®å ´åˆã¯ã‚¤ãƒ³ã‚¹ãƒˆã‚¥ãƒ«ãƒ¡ãƒ³ã‚¿ãƒ«ï¼‰ |
| duration | int | â—‹ | ç”Ÿæˆæ™‚é–“ï¼ˆç§’ï¼‰ |
| bpm | int | â—‹ | ãƒ†ãƒ³ãƒ (10-300) |
| timesignature | string | â—‹ | æ‹å­ ("2", "3", "4", "6") |
| language | string | â—‹ | è¨€èªã‚³ãƒ¼ãƒ‰ (en, ja, zh, ko, etc.) |
| keyscale | string | â—‹ | èª¿ ("C major", "A minor", etc.) |
| steps | int | - | æ¨è«–ã‚¹ãƒ†ãƒƒãƒ— (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 8) |
| cfg | float | - | CFG ã‚¹ã‚±ãƒ¼ãƒ« (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1.0) |
| seed | int | - | ä¹±æ•°ã‚·ãƒ¼ãƒ‰ (çœç•¥æ™‚ã¯ãƒ©ãƒ³ãƒ€ãƒ ) |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹

```json
{
  "job_id": "abc12345-6789-def0-1234-567890abcdef",
  "status": "queued",
  "message": "Job queued"
}
```

### 3.3 ä½œè© API (LLM)

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```http
POST /api/utility
Content-Type: application/json

{
  "workflow": "lyrics_generate",
  "scenario": "å¤œç©ºã‚’è¦‹ä¸Šã’ã¦é¡˜ã„ã‚’è¾¼ã‚ã‚‹é­”æ³•å°‘å¥³ã®ç‰©èª",
  "genre": "pop, female voice, emotional",
  "language": "Japanese"
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹

```json
{
  "job_id": "lyrics-abc123",
  "status": "queued"
}
```

#### ã‚¸ãƒ§ãƒ–å®Œäº†æ™‚ã®çµæœ

```json
{
  "status": "completed",
  "result": {
    "lyrics": "[intro]\n[inst]\n\n[verse]\næ˜Ÿã®æµ·ã«æµ®ã‹ã¶é¡˜ã„ãŒ...",
    "recommended_duration": 120,
    "parts_timing": {
      "intro": 5,
      "verse1": 25,
      "chorus1": 30,
      "verse2": 25,
      "chorus2": 30,
      "outro": 5
    }
  }
}
```

### 3.4 ã‚¿ã‚°ç”Ÿæˆ API (LLM)

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```http
POST /api/utility
Content-Type: application/json

{
  "workflow": "lyrics_to_tags",
  "lyrics": "[verse]\næ˜Ÿã®æµ·ã«æµ®ã‹ã¶é¡˜ã„ãŒ\nå¤œç©ºã‚’é§†ã‘å·¡ã‚‹..."
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆã‚¸ãƒ§ãƒ–å®Œäº†æ™‚ï¼‰

```json
{
  "status": "completed",
  "result": {
    "genre": "pop, j-pop, female voice, emotional ballad",
    "tags": "piano, strings, dreamy, hopeful, key: A minor, bpm: 90, slow tempo"
  }
}
```

### 3.5 ã‚¸ãƒ§ãƒ–ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ API

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```http
GET /api/job/{job_id}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹

```json
{
  "job_id": "abc12345",
  "status": "completed",
  "progress": 100,
  "message": "Generation complete",
  "result": {
    "audio_files": [
      "/output/audio/ComfyUI_00001.mp3"
    ]
  }
}
```

### 3.6 WebSocket é€²æ—é€šçŸ¥

```javascript
const ws = new WebSocket('ws://localhost:9999/ws/progress/abc12345');

ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  // {
  //   "type": "progress",
  //   "progress": 45,
  //   "message": "Sampling step 4/8..."
  // }
  updateProgressBar(data.progress, data.message);
};
```

---

## 3.7 åˆ©ç”¨å¯èƒ½ãªAPIã‚ªãƒ—ã‚·ãƒ§ãƒ³ä¸€è¦§

### 3.7.1 TextEncodeAceStepAudio1.5 ã‚ªãƒ—ã‚·ãƒ§ãƒ³

ACE-Step 1.5ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§ä½¿ç”¨å¯èƒ½ãªã™ã¹ã¦ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼š

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | ç¯„å›² | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ | ãƒ•ãƒ­ãƒ³ãƒˆæ¨å¥¨ |
|-----------|-----|------|----------|------|------------|
| tags | string | - | "" | ã‚¸ãƒ£ãƒ³ãƒ«ã€ã‚¹ã‚¿ã‚¤ãƒ«ã€æ¥½å™¨ã€ãƒ ãƒ¼ãƒ‰ç­‰ | âœ… ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ |
| lyrics | string | - | "" | æ­Œè©ï¼ˆæ§‹é€ ã‚¿ã‚°ä»˜ãï¼‰ | âœ… ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ |
| seed | int | 0 - 2^64-1 | 0 | å†ç¾æ€§ã®ãŸã‚ã®ã‚·ãƒ¼ãƒ‰ | âœ… æ•°å€¤å…¥åŠ› + ãƒ©ãƒ³ãƒ€ãƒ ãƒœã‚¿ãƒ³ |
| bpm | int | 10 - 300 | 120 | ãƒ†ãƒ³ãƒ (Beats Per Minute) | âœ… ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ + æ•°å€¤å…¥åŠ› |
| duration | float | 0.0 - 2000.0 | 120.0 | ç”Ÿæˆæ™‚é–“ï¼ˆç§’ï¼‰ | âœ… ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ (æ¨å¥¨: 30-180ç§’) |
| timesignature | enum | "2","3","4","6" | "4" | æ‹å­ | âœ… ã‚»ãƒ¬ã‚¯ãƒˆ |
| language | enum | 23è¨€èª | "en" | æ­Œè©ã®è¨€èª | âœ… ã‚»ãƒ¬ã‚¯ãƒˆ |
| keyscale | enum | 34ç¨®é¡ | "C major" | èª¿ï¼ˆã‚­ãƒ¼ï¼‰ | âœ… ã‚»ãƒ¬ã‚¯ãƒˆ |

### 3.7.2 KSampler ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆæ¨è«–å“è³ªèª¿æ•´ï¼‰

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | ç¯„å›² | Turboæ¨å¥¨ | èª¬æ˜ | ãƒ•ãƒ­ãƒ³ãƒˆæ¨å¥¨ |
|-----------|-----|------|----------|------|------------|
| steps | int | 1 - 100+ | **8** | æ¨è«–ã‚¹ãƒ†ãƒƒãƒ—æ•° | â–³ ä¸Šç´šè€…å‘ã‘ |
| cfg | float | 0.0 - 30.0 | **1.0** | CFGã‚¹ã‚±ãƒ¼ãƒ«ï¼ˆã‚¬ã‚¤ãƒ€ãƒ³ã‚¹å¼·åº¦ï¼‰ | â–³ ä¸Šç´šè€…å‘ã‘ |
| sampler_name | enum | 40+ç¨®é¡ | **"euler"** | ã‚µãƒ³ãƒ—ãƒ©ãƒ¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  | â–³ ä¸Šç´šè€…å‘ã‘ |
| scheduler | enum | 9ç¨®é¡ | **"simple"** | ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ | â–³ ä¸Šç´šè€…å‘ã‘ |
| denoise | float | 0.0 - 1.0 | **1.0** | ãƒ‡ãƒã‚¤ã‚ºå¼·åº¦ | âœ— å›ºå®šæ¨å¥¨ |

### 3.7.3 ModelSamplingAuraFlow ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | ç¯„å›² | Turboæ¨å¥¨ | èª¬æ˜ | ãƒ•ãƒ­ãƒ³ãƒˆæ¨å¥¨ |
|-----------|-----|------|----------|------|------------|
| shift | float | 0.0 - 100.0 | **3.0** | ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã‚·ãƒ•ãƒˆ | âœ— å›ºå®šæ¨å¥¨ |

### 3.7.4 ã‚µãƒ³ãƒ—ãƒ©ãƒ¼ä¸€è¦§

```python
SAMPLER_NAMES = [
    # åŸºæœ¬ã‚µãƒ³ãƒ—ãƒ©ãƒ¼
    "euler",                    # â˜…æ¨å¥¨ï¼ˆTurboãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
    "euler_ancestral",          # ãƒã‚¤ã‚ºè¿½åŠ ç‰ˆ
    "heun",                     # 2æ¬¡ç²¾åº¦
    "dpm_2",                    # DPM-Solver 2æ¬¡
    
    # é«˜é€Ÿã‚µãƒ³ãƒ—ãƒ©ãƒ¼
    "lcm",                      # Latent Consistency Modelç”¨
    "ddim",                     # Denoising Diffusion IM
    
    # é«˜å“è³ªã‚µãƒ³ãƒ—ãƒ©ãƒ¼
    "dpmpp_2m",                 # DPM++ 2M
    "dpmpp_2m_sde",             # DPM++ 2M SDE
    "dpmpp_3m_sde",             # DPM++ 3M SDE
    "uni_pc",                   # UniPC
    
    # ãã®ä»–ï¼ˆä¸Šç´šè€…å‘ã‘ï¼‰
    "euler_cfg_pp", "euler_ancestral_cfg_pp", "heunpp2",
    "exp_heun_2_x0", "exp_heun_2_x0_sde", "dpm_2_ancestral",
    "lms", "dpm_fast", "dpm_adaptive", "dpmpp_2s_ancestral",
    "dpmpp_2s_ancestral_cfg_pp", "dpmpp_sde", "dpmpp_sde_gpu",
    "dpmpp_2m_cfg_pp", "dpmpp_2m_sde_gpu", "dpmpp_2m_sde_heun",
    "dpmpp_2m_sde_heun_gpu", "dpmpp_3m_sde_gpu", "ddpm",
    "ipndm", "ipndm_v", "deis", "res_multistep",
    "res_multistep_cfg_pp", "res_multistep_ancestral",
    "res_multistep_ancestral_cfg_pp", "gradient_estimation",
    "gradient_estimation_cfg_pp", "er_sde", "seeds_2", "seeds_3",
    "sa_solver", "sa_solver_pece", "uni_pc_bh2"
]
```

### 3.7.5 ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ä¸€è¦§

```python
SCHEDULER_NAMES = [
    "simple",           # â˜…æ¨å¥¨ï¼ˆTurboãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
    "normal",           # æ¨™æº–ãƒã‚¤ã‚ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
    "karras",           # Karrasã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆæ»‘ã‚‰ã‹ï¼‰
    "exponential",      # æŒ‡æ•°ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
    "sgm_uniform",      # SGMå‡ä¸€
    "ddim_uniform",     # DDIMå‡ä¸€
    "beta",             # ãƒ™ãƒ¼ã‚¿ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
    "linear_quadratic", # ç·šå½¢äºŒæ¬¡
    "kl_optimal",       # KLæœ€é©åŒ–
]
```

### 3.7.6 è¨€èªã‚³ãƒ¼ãƒ‰ä¸€è¦§

```python
SUPPORTED_LANGUAGES = {
    "en": "English",      # â˜…ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
    "ja": "Japanese",     # æ—¥æœ¬èª
    "zh": "Chinese",      # ä¸­å›½èª
    "ko": "Korean",       # éŸ“å›½èª
    "es": "Spanish",      # ã‚¹ãƒšã‚¤ãƒ³èª
    "de": "German",       # ãƒ‰ã‚¤ãƒ„èª
    "fr": "French",       # ãƒ•ãƒ©ãƒ³ã‚¹èª
    "pt": "Portuguese",   # ãƒãƒ«ãƒˆã‚¬ãƒ«èª
    "ru": "Russian",      # ãƒ­ã‚·ã‚¢èª
    "it": "Italian",      # ã‚¤ã‚¿ãƒªã‚¢èª
    "nl": "Dutch",        # ã‚ªãƒ©ãƒ³ãƒ€èª
    "pl": "Polish",       # ãƒãƒ¼ãƒ©ãƒ³ãƒ‰èª
    "tr": "Turkish",      # ãƒˆãƒ«ã‚³èª
    "vi": "Vietnamese",   # ãƒ™ãƒˆãƒŠãƒ èª
    "cs": "Czech",        # ãƒã‚§ã‚³èª
    "fa": "Persian",      # ãƒšãƒ«ã‚·ãƒ£èª
    "id": "Indonesian",   # ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢èª
    "uk": "Ukrainian",    # ã‚¦ã‚¯ãƒ©ã‚¤ãƒŠèª
    "hu": "Hungarian",    # ãƒãƒ³ã‚¬ãƒªãƒ¼èª
    "ar": "Arabic",       # ã‚¢ãƒ©ãƒ“ã‚¢èª
    "sv": "Swedish",      # ã‚¹ã‚¦ã‚§ãƒ¼ãƒ‡ãƒ³èª
    "ro": "Romanian",     # ãƒ«ãƒ¼ãƒãƒ‹ã‚¢èª
    "el": "Greek",        # ã‚®ãƒªã‚·ãƒ£èª
}
```

### 3.7.7 ã‚­ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«ï¼ˆèª¿ï¼‰ä¸€è¦§

```python
KEYSCALES = [
    # ãƒ¡ã‚¸ãƒ£ãƒ¼ï¼ˆé•·èª¿ï¼‰
    "C major", "C# major", "Db major", "D major", "D# major",
    "Eb major", "E major", "F major", "F# major", "Gb major",
    "G major", "G# major", "Ab major", "A major", "A# major",
    "Bb major", "B major",
    
    # ãƒã‚¤ãƒŠãƒ¼ï¼ˆçŸ­èª¿ï¼‰
    "C minor", "C# minor", "Db minor", "D minor", "D# minor",
    "Eb minor", "E minor", "F minor", "F# minor", "Gb minor",
    "G minor", "G# minor", "Ab minor", "A minor", "A# minor",
    "Bb minor", "B minor",
]
```

### 3.7.8 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ¨å¥¨UIæ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸµ ACE-Step 1.5 Music Generator                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ã€åŸºæœ¬è¨­å®šã€‘ â˜… ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤º                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ãƒ†ãƒ¼ãƒ/ã‚·ãƒŠãƒªã‚ª: [ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢]              [ğŸ¼ AIä½œè©]  â”‚â”‚
â”‚  â”‚ æ­Œè©:           [å¤§ããªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢]                       â”‚â”‚
â”‚  â”‚ ã‚¿ã‚°/ã‚¸ãƒ£ãƒ³ãƒ«:  [ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢]               [ğŸµ ã‚¿ã‚°ç”Ÿæˆ] â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ æ™‚é–“: [==â—=====] 120ç§’    BPM: [==â—===] 120                 â”‚â”‚
â”‚  â”‚ æ‹å­: [4/4 â–¼]   è¨€èª: [æ—¥æœ¬èª â–¼]   èª¿: [A minor â–¼]          â”‚â”‚
â”‚  â”‚ ã‚·ãƒ¼ãƒ‰: [12345] [ğŸ² ãƒ©ãƒ³ãƒ€ãƒ ]                                â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  ã€ä¸Šç´šè¨­å®šã€‘ â–¶ æŠ˜ã‚ŠãŸãŸã¿ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆéè¡¨ç¤ºï¼‰                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ã‚¹ãƒ†ãƒƒãƒ—æ•°: [8]  CFG: [1.0]                                  â”‚â”‚
â”‚  â”‚ ã‚µãƒ³ãƒ—ãƒ©ãƒ¼: [euler â–¼]  ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼: [simple â–¼]            â”‚â”‚
â”‚  â”‚ â€» Turboæœ€é©å€¤ãŒè¨­å®šæ¸ˆã¿ã€‚å¤‰æ›´ã¯å“è³ªã«å½±éŸ¿ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  [âœ¨ Generate Music]                                            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.7.9 ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¤œè¨¼ãƒ«ãƒ¼ãƒ«

```javascript
const VALIDATION_RULES = {
    duration: {
        min: 10,
        max: 300,      // å®Ÿç”¨çš„ãªä¸Šé™ï¼ˆé•·ã™ãã‚‹ã¨VRAMä¸è¶³ï¼‰
        recommended: { min: 30, max: 180 }
    },
    bpm: {
        min: 10,
        max: 300,
        recommended: { min: 60, max: 200 }
    },
    steps: {
        min: 1,
        max: 50,       // Turboã¯8ã§ååˆ†
        turbo_default: 8
    },
    cfg: {
        min: 0.0,
        max: 10.0,     // é«˜ã™ãã‚‹ã¨å“è³ªä½ä¸‹
        turbo_default: 1.0
    },
    seed: {
        min: 0,
        max: Number.MAX_SAFE_INTEGER,  // JavaScriptã®å®‰å…¨ãªæœ€å¤§æ•´æ•°
        random_value: -1  // -1ã§ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ
    }
};

function validateParams(params) {
    const errors = [];
    
    if (params.duration < 10 || params.duration > 2000) {
        errors.push("Duration must be between 10 and 2000 seconds");
    }
    if (params.bpm < 10 || params.bpm > 300) {
        errors.push("BPM must be between 10 and 300");
    }
    if (!KEYSCALES.includes(params.keyscale)) {
        errors.push("Invalid keyscale");
    }
    if (!["2", "3", "4", "6"].includes(params.timesignature)) {
        errors.push("Timesignature must be 2, 3, 4, or 6");
    }
    
    return errors;
}
```

### 3.7.10 ReferenceTimbreAudioï¼ˆéŸ³è‰²å‚ç…§ï¼‰â€»å®Ÿé¨“çš„

ACE-Step 1.5ã§ã¯ã€æ—¢å­˜ã®éŸ³å£°ã‹ã‚‰éŸ³è‰²ã‚’å‚ç…§ã—ã¦ç”Ÿæˆã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ï¼ˆå®Ÿé¨“çš„æ©Ÿèƒ½ï¼‰ï¼š

```python
# å‚ç…§éŸ³å£°ã‹ã‚‰ã®éŸ³è‰²æŠ½å‡º
class ReferenceTimbreAudio:
    """
    æ—¢å­˜ã®éŸ³å£°ãƒ©ãƒ†ãƒ³ãƒˆã‚’å‚ç…§ã¨ã—ã¦ã€åŒæ§˜ã®éŸ³è‰²ã§æ–°ã—ã„éŸ³æ¥½ã‚’ç”Ÿæˆ
    
    ä½¿ç”¨ä¾‹:
    1. å‚ç…§éŸ³å£°ã‚’VAEã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ â†’ latentå–å¾—
    2. ReferenceTimbreAudioã§conditioningã«ä»˜åŠ 
    3. é€šå¸¸ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã§ç”Ÿæˆ
    
    æ³¨æ„: experimentalï¼ˆå®Ÿé¨“çš„ï¼‰æ©Ÿèƒ½ã®ãŸã‚ã€çµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“
    """
    inputs = {
        "conditioning": Conditioning,  # å¿…é ˆ: ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰çµæœ
        "latent": Latent | None,       # ã‚ªãƒ—ã‚·ãƒ§ãƒ³: å‚ç…§éŸ³å£°ã®ãƒ©ãƒ†ãƒ³ãƒˆ
    }
```

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…æ¨å¥¨:**
- ä¸Šç´šè¨­å®šå†…ã«é…ç½®
- ã€Œå‚ç…§éŸ³å£°ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦æä¾›
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ â†’ VAEã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ â†’ latentå–å¾—ã®å‡¦ç†ãŒå¿…è¦
- ç¾çŠ¶ã¯å®Ÿé¨“çš„æ©Ÿèƒ½ã®ãŸã‚ã€éè¡¨ç¤ºã¾ãŸã¯ãƒ™ãƒ¼ã‚¿è¡¨ç¤ºã‚’æ¨å¥¨

---

## 4. ACE-Step 1.5 æ¨è«–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

### 4.1 ComfyUIéä¾å­˜ã®æ¨è«–ãƒ•ãƒ­ãƒ¼

ComfyUIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½¿ã‚ãšã€ç›´æ¥ACE-Stepã‚’å‘¼ã³å‡ºã™å ´åˆã®Pythonã‚³ãƒ¼ãƒ‰ä¾‹ï¼š

```python
import torch
from acestep import ACEStepPipeline

# ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³åˆæœŸåŒ–
pipeline = ACEStepPipeline.from_pretrained(
    "ace_step_1.5_turbo_aio.safetensors",
    device="cuda",
    dtype=torch.bfloat16
)

# ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
params = {
    "tags": "Neo-Soul, warm, organic, female voice",
    "lyrics": "[verse]\næ˜Ÿã®æµ·ã«æµ®ã‹ã¶é¡˜ã„ãŒ...",
    "bpm": 120,
    "duration": 60.0,
    "timesignature": 4,
    "language": "ja",
    "keyscale": "A minor",
    "seed": 12345,
    "steps": 8,
    "cfg": 1.0,
}

# æ¨è«–å®Ÿè¡Œ
audio = pipeline.generate(**params)

# ä¿å­˜
pipeline.save_audio(audio, "output.mp3", format="mp3")
```

### 4.2 æ¨è«–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å†…éƒ¨å‡¦ç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ACE-Step 1.5 æ¨è«–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Step 1: Text Encoding                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ TextEncodeAceStepAudio1.5                               â”‚   â”‚
â”‚  â”‚ â€¢ tags â†’ CLIP Tokenize                                  â”‚   â”‚
â”‚  â”‚ â€¢ lyrics â†’ Lyrics Tokenize                              â”‚   â”‚
â”‚  â”‚ â€¢ metadata (bpm, key, lang, timesig) â†’ Embedding        â”‚   â”‚
â”‚  â”‚ â†’ Conditioning (positive/negative)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â–¼                                   â”‚
â”‚  Step 2: Latent Initialization                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ EmptyAceStep1.5LatentAudio                              â”‚   â”‚
â”‚  â”‚ â€¢ seconds â†’ latent_length = round(seconds * 48000 / 1920)â”‚   â”‚
â”‚  â”‚ â€¢ shape: [batch, 64, latent_length]                     â”‚   â”‚
â”‚  â”‚ â€¢ dtype: float32, device: cuda                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â–¼                                   â”‚
â”‚  Step 3: Model Sampling                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ModelSamplingAuraFlow (shift=3)                         â”‚   â”‚
â”‚  â”‚ KSampler:                                               â”‚   â”‚
â”‚  â”‚ â€¢ sampler_name: "euler"                                 â”‚   â”‚
â”‚  â”‚ â€¢ scheduler: "simple"                                   â”‚   â”‚
â”‚  â”‚ â€¢ steps: 8 (turbo mode)                                 â”‚   â”‚
â”‚  â”‚ â€¢ cfg: 1.0                                              â”‚   â”‚
â”‚  â”‚ â€¢ denoise: 1.0                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â–¼                                   â”‚
â”‚  Step 4: VAE Decode                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ VAEDecodeAudio                                          â”‚   â”‚
â”‚  â”‚ â€¢ latent â†’ waveform (48kHz)                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â–¼                                   â”‚
â”‚  Step 5: Save Audio                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ SaveAudioMP3 (quality: V0)                              â”‚   â”‚
â”‚  â”‚ â€¢ waveform â†’ MP3 file                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. LLMé€£æºä»•æ§˜ï¼ˆè©³ç´°ï¼‰

### 5.1 LLMã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š

OpenAIäº’æ›APIã‚’ä½¿ç”¨ã—ã¾ã™ï¼ˆOpenAIã€Ollamaã€vLLMç­‰ã«å¯¾å¿œï¼‰ã€‚

#### ç’°å¢ƒå¤‰æ•°è¨­å®š

```bash
# OpenAIäº’æ›APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
export OPENAI_BASE_URL="http://localhost:11434/v1"  # Ollamaä¾‹
export OPENAI_API_KEY="your-api-key"

# ä½¿ç”¨ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ï¼ˆä»»æ„ï¼‰
export OPENAI_CHAT_MODEL="gemma3:latest"  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
```

#### Pythonã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ–

```python
from openai import AsyncOpenAI

def get_openai_client():
    return AsyncOpenAI(
        base_url=os.environ.get("OPENAI_BASE_URL", "http://localhost:11434/v1"),
        api_key=os.environ.get("OPENAI_API_KEY", "YOUR_API_KEY"),
    )
```

#### chat_reqé–¢æ•°

```python
async def chat_req(
    client: AsyncOpenAI,
    user_msg: str,
    role: str,  # system role
    model: str | None = None,
    max_tokens: int | None = None,
    temperature: float | None = None,
) -> str:
    """
    OpenAIäº’æ›APIã«ãƒãƒ£ãƒƒãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡
    
    Args:
        client: AsyncOpenAI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
        user_msg: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        role: ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒ¼ãƒ«ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰
        model: ãƒ¢ãƒ‡ãƒ«åï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: OPENAI_CHAT_MODELç’°å¢ƒå¤‰æ•° or "gemma3:latest"ï¼‰
        max_tokens: æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°
        temperature: æ¸©åº¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    
    Returns:
        str: LLMã®å¿œç­”ãƒ†ã‚­ã‚¹ãƒˆ
    """
    messages = [
        {"role": "system", "content": role},
        {"role": "user", "content": user_msg}
    ]
    
    effective_model = model or os.environ.get("OPENAI_CHAT_MODEL", "gemma3:latest")
    kwargs = {}
    if max_tokens is not None:
        kwargs["max_tokens"] = max_tokens
    if temperature is not None:
        kwargs["temperature"] = temperature

    completion = await client.chat.completions.create(
        model=effective_model,
        messages=messages,
        **kwargs,
    )
    return completion.choices[0].message.content
```

---

### 5.2 ä½œè©API (lyrics_generate) å®Œå…¨ä»•æ§˜

#### 5.2.1 ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆå®Œå…¨ç‰ˆï¼‰

```python
LYRICS_GENERATE_SYSTEM_PROMPT = """You are a professional lyricist who creates song lyrics for AI music generation (ACE-Step).

CRITICAL OUTPUT RULES:
1. Start with a JSON metadata line, then output ONLY the lyrics with structure tags
2. Use structure tags: [intro], [verse], [chorus], [bridge], [outro], [inst] (for instrumental)
3. Do NOT include timestamps like (0:00-0:05) - ACE-Step does not use them
4. Do NOT include romanization in parentheses - write in the requested language ONLY
5. Write lyrics line by line, each line on its own

REQUIRED FIRST LINE FORMAT (JSON):
{"recommended_duration": 90, "parts": {"intro": 5, "verse1": 20, "chorus1": 25, "verse2": 20, "chorus2": 25, "outro": 5}}

- recommended_duration: Total song length in seconds (typically 60-180)
- parts: Estimated duration for each part in seconds

STRUCTURE GUIDELINES:
- [intro]: Keep short (1-2 lines) or use [inst] for instrumental (5-10 sec)
- [verse]: 4-6 lines per verse (15-25 sec)
- [chorus]: 4-6 lines, catchy and memorable (20-30 sec)
- [bridge]: Optional, 2-4 lines (10-15 sec)
- [outro]: Short ending, 1-2 lines or [inst] (5-10 sec)

STYLE GUIDELINES:
- Match the mood and genre specified
- Use natural, singable phrases
- If Japanese: Write only in Japanese (kanji/hiragana/katakana mix)
- If English: Write only in English
- Keep vocabulary natural for singing

EXAMPLE OUTPUT:
{"recommended_duration": 120, "parts": {"intro": 5, "verse1": 25, "chorus1": 30, "verse2": 25, "chorus2": 30, "outro": 5}}
[intro]
[inst]

[verse]
å¤œç©ºã«æµ®ã‹ã¶æ˜Ÿã‚’è¦‹ã¤ã‚ã¦
ã‚ã®æ—¥ã®ç´„æŸã‚’æ€ã„å‡ºã™

[chorus]
å›ãŒã„ãªã„ä¸–ç•Œã§
åƒ•ã¯æ­©ãç¶šã‘ã‚‹
ã„ã¤ã‹ã¾ãŸä¼šãˆã‚‹æ—¥ã¾ã§
ã“ã®æ­Œã‚’æ­Œã„ç¶šã‘ã‚‹

[outro]
[inst]"""
```

#### 5.2.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```python
def build_lyrics_user_prompt(scenario: str, genre: str, language: str) -> str:
    return f"""Write song lyrics for:
THEME: {scenario}
GENRE: {genre if genre else "pop"}
LANGUAGE: {language}

IMPORTANT: Start with the JSON metadata line containing recommended_duration and parts timing, then output the lyrics with structure tags."""
```

#### 5.2.3 ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‘ãƒ¼ã‚¹å‡¦ç†

```python
import re
import json

def parse_lyrics_response(response: str) -> dict:
    """
    LLMãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰æ­Œè©ã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º
    
    Returns:
        {
            "lyrics": str,           # æ­Œè©ãƒ†ã‚­ã‚¹ãƒˆ
            "recommended_duration": int,  # æ¨å¥¨æ™‚é–“ï¼ˆç§’ï¼‰
            "parts_timing": dict     # ãƒ‘ãƒ¼ãƒˆåˆ¥æ™‚é–“
        }
    """
    recommended_duration = None
    parts_timing = None
    lyrics_text = response
    
    # ãƒ‘ã‚¿ãƒ¼ãƒ³1: ```json ... ``` ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯å†…
    code_block_pattern = r'```(?:json)?\s*\n?(\{.*?\})\s*\n?```'
    code_match = re.search(code_block_pattern, response, re.DOTALL)
    
    if code_match:
        json_str = code_match.group(1).strip()
        try:
            metadata = json.loads(json_str)
            recommended_duration = metadata.get('recommended_duration')
            parts_timing = metadata.get('parts')
            lyrics_text = re.sub(code_block_pattern, '', response, count=1).strip()
        except json.JSONDecodeError:
            pass
    else:
        # ãƒ‘ã‚¿ãƒ¼ãƒ³2: æœ€åˆã®è¡ŒãŒJSON
        lines = response.strip().split('\n')
        first_line = lines[0].strip()
        if first_line.startswith('```'):
            first_line = first_line.replace('```json', '').replace('```', '').strip()
        
        if first_line.startswith('{'):
            try:
                metadata = json.loads(first_line)
                recommended_duration = metadata.get('recommended_duration')
                parts_timing = metadata.get('parts')
                lyrics_text = '\n'.join(lines[1:]).strip()
            except json.JSONDecodeError:
                pass
    
    # ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    lyrics_text = re.sub(r'^```\w*\n?', '', lyrics_text)
    lyrics_text = re.sub(r'\n?```$', '', lyrics_text)
    lyrics_text = lyrics_text.strip()
    
    return {
        "lyrics": lyrics_text,
        "recommended_duration": recommended_duration,
        "parts_timing": parts_timing
    }
```

#### 5.2.4 å®Œå…¨ãªAPIå‡¦ç†ãƒ•ãƒ­ãƒ¼

```python
async def process_lyrics_generate(scenario: str, genre: str, language: str) -> dict:
    """
    æ­Œè©ç”Ÿæˆã®å®Œå…¨ãªå‡¦ç†ãƒ•ãƒ­ãƒ¼
    
    Args:
        scenario: ãƒ†ãƒ¼ãƒ/ã‚·ãƒŠãƒªã‚ª
        genre: ã‚¸ãƒ£ãƒ³ãƒ«ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
        language: è¨€èª (Japanese, English, etc.)
    
    Returns:
        {
            "lyrics": str,
            "scenario": str,
            "genre": str,
            "language": str,
            "recommended_duration": int,
            "parts_timing": dict
        }
    """
    client = get_openai_client()
    
    system_role = LYRICS_GENERATE_SYSTEM_PROMPT
    user_content = build_lyrics_user_prompt(scenario, genre, language)
    
    response = await chat_req(client, user_content, system_role)
    
    parsed = parse_lyrics_response(response)
    
    return {
        "lyrics": parsed["lyrics"],
        "scenario": scenario,
        "genre": genre,
        "language": language,
        "recommended_duration": parsed["recommended_duration"],
        "parts_timing": parsed["parts_timing"]
    }
```

---

### 5.3 ã‚¿ã‚°ç”ŸæˆAPI (lyrics_to_tags) å®Œå…¨ä»•æ§˜

#### 5.3.1 ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆå®Œå…¨ç‰ˆï¼‰

```python
TAGS_GENERATE_SYSTEM_PROMPT = """You are a music genre and style expert. Analyze song lyrics and suggest appropriate genre and tags for AI music generation (ACE-Step).

OUTPUT FORMAT (EXACTLY as shown):
GENRE: [comma-separated genre/style list]
TAGS: [comma-separated tags list]

GENRE EXAMPLES:
- pop, rock, jazz, electronic, classical, folk, r&b, hip-hop, metal, country
- female voice, male voice, duet, choir
- acoustic, electric, orchestral
- ballad, upbeat, dance

TAGS EXAMPLES:
- Mood: emotional, upbeat, melancholic, dreamy, energetic, peaceful, dark, hopeful
- Instruments: piano, guitar, drums, violin, synthesizer, bass, strings
- Tempo: slow tempo, fast tempo, 120 bpm
- Key: C major, A minor, etc.
- Style: a cappella, lo-fi, cinematic, ambient

Output ONLY the two lines. No explanations."""
```

#### 5.3.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```python
def build_tags_user_prompt(lyrics: str) -> str:
    # æ­Œè©ãŒé•·ã„å ´åˆã¯å…ˆé ­2000æ–‡å­—ã«åˆ¶é™
    truncated_lyrics = lyrics[:2000]
    return f"""Analyze these lyrics and suggest genre and tags:

{truncated_lyrics}

Output ONLY:
GENRE: ...
TAGS: ..."""
```

#### 5.3.3 ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‘ãƒ¼ã‚¹å‡¦ç†

```python
def parse_tags_response(response: str) -> dict:
    """
    LLMãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰ã‚¸ãƒ£ãƒ³ãƒ«ã¨ã‚¿ã‚°ã‚’æŠ½å‡º
    
    Returns:
        {
            "genre": str,  # "pop, rock, female voice"
            "tags": str    # "emotional, piano, key: A minor, bpm: 90"
        }
    """
    genre = ""
    tags = ""
    
    for line in response.strip().split('\n'):
        line = line.strip()
        if line.upper().startswith('GENRE:'):
            genre = line[6:].strip()
        elif line.upper().startswith('TAGS:'):
            tags = line[5:].strip()
    
    return {"genre": genre, "tags": tags}
```

#### 5.3.4 ã‚¿ã‚°ã‹ã‚‰ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è‡ªå‹•æŠ½å‡ºï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰

```javascript
/**
 * ã‚¿ã‚°æ–‡å­—åˆ—ã‹ã‚‰BPMã¨Keyã‚’è‡ªå‹•æŠ½å‡ºã—ã¦ãƒ•ã‚©ãƒ¼ãƒ ã«ã‚»ãƒƒãƒˆ
 * @param {string} tags - ç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚°æ–‡å­—åˆ—
 * @param {HTMLElement} card - ã‚«ãƒ¼ãƒ‰è¦ç´ 
 */
function extractAndSetMetadataFromTags(tags, card) {
    // KeyæŠ½å‡º: "key: A minor" ã¾ãŸã¯ "key: C major" ãƒ‘ã‚¿ãƒ¼ãƒ³
    const keyMatch = tags.match(/key:\s*([A-Ga-g][#b]?\s*(?:major|minor))/i);
    if (keyMatch) {
        const extractedKey = keyMatch[1].trim();
        const keyscaleSelect = card.querySelector('.keyscale-select');
        if (keyscaleSelect) {
            // ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ç…§åˆ
            const normalizedKey = extractedKey.charAt(0).toUpperCase() + 
                                  extractedKey.slice(1).toLowerCase();
            const options = Array.from(keyscaleSelect.options);
            const matchingOption = options.find(opt => 
                opt.value.toLowerCase() === extractedKey.toLowerCase() ||
                opt.value.toLowerCase() === normalizedKey.toLowerCase()
            );
            if (matchingOption) {
                keyscaleSelect.value = matchingOption.value;
                console.log(`Auto-set keyscale to: ${matchingOption.value}`);
            }
        }
    }
    
    // BPMæŠ½å‡º: "bpm: 120" ã¾ãŸã¯ "tempo: 128" ãƒ‘ã‚¿ãƒ¼ãƒ³
    const bpmMatch = tags.match(/(?:bpm|tempo):\s*(\d+)/i);
    if (bpmMatch) {
        const extractedBpm = parseInt(bpmMatch[1]);
        const bpmInput = card.querySelector('.bpm-input');
        if (bpmInput && extractedBpm >= 10 && extractedBpm <= 300) {
            bpmInput.value = extractedBpm;
            console.log(`Auto-set BPM to: ${extractedBpm}`);
        }
    }
}
```

---

### 5.4 å®Œå…¨ãªLLMé€£æºã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         LLMé€£æºã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Frontend   â”‚     â”‚ API Server â”‚     â”‚ LLM Server â”‚     â”‚ ACE-Step    â”‚  â”‚
â”‚  â”‚ (WebUI)    â”‚     â”‚ (FastAPI)  â”‚     â”‚ (OpenAIäº’æ›)â”‚     â”‚ (æ¨è«–)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ â‘  ğŸ¼ ä½œè©ãƒœã‚¿ãƒ³  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ POST /api/utilityâ”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ {workflow:       â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚  "lyrics_generate",                 â”‚                   â”‚         â”‚
â”‚        â”‚  scenario: "...",â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚  genre: "...",   â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚  language: "..."}â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ â‘¡ chat_req()    â”‚                   â”‚         â”‚
â”‚        â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ system: LYRICS_  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ GENERATE_SYSTEM_ â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ PROMPT           â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ user: scenario+  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ genre+language   â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ â‘¢ JSON + æ­Œè©   â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ â‘£ lyrics +      â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚   recommended_   â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚   duration       â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ â‘¤ ğŸµ ã‚¿ã‚°ç”Ÿæˆ   â”‚                  â”‚                   â”‚         â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ POST /api/utilityâ”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ {workflow:       â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚  "lyrics_to_tags",                  â”‚                   â”‚         â”‚
â”‚        â”‚  lyrics: "..."}  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ â‘¥ chat_req()    â”‚                   â”‚         â”‚
â”‚        â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ system: TAGS_    â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ GENERATE_SYSTEM_ â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ PROMPT           â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ user: lyrics     â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚ â‘¦ GENRE: ...    â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚    TAGS: ...     â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ â‘§ genre + tags  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚   (key: A minor, â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚    bpm: 120)     â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ â‘¨ è‡ªå‹•æŠ½å‡º:     â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚   Key â†’ keyscale â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚   BPM â†’ bpm      â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚   Duration â†’     â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚   duration       â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ â‘© âœ¨ Generateãƒœã‚¿ãƒ³                â”‚                   â”‚         â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ POST /api/generate                  â”‚                   â”‚         â”‚
â”‚        â”‚ {workflow:       â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚  "ace_step_1_5_t2a",                â”‚                   â”‚         â”‚
â”‚        â”‚  tags, lyrics,   â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚  bpm, keyscale, ...}                â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚ â‘ª éŸ³æ¥½ç”Ÿæˆ       â”‚         â”‚
â”‚        â”‚                  â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚ â‘« audio.mp3      â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚ â‘¬ å®Œäº†é€šçŸ¥ +    â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚   audio URL      â”‚                  â”‚                   â”‚         â”‚
â”‚        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚                   â”‚         â”‚
â”‚        â”‚                  â”‚                  â”‚                   â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5.5 æ¨å¥¨LLMãƒ¢ãƒ‡ãƒ«

| ç”¨é€” | æ¨å¥¨ãƒ¢ãƒ‡ãƒ« | å‚™è€ƒ |
|------|----------|------|
| ä½œè© (æ—¥æœ¬èª) | gemma-3-27b-it, qwen2.5-32b | æ—¥æœ¬èªã®è‡ªç„¶ãªæ­Œè©ç”Ÿæˆ |
| ä½œè© (è‹±èª) | gpt-4o-mini, claude-3.5-sonnet | é«˜å“è³ªãªè‹±èªæ­Œè© |
| ã‚¿ã‚°ç”Ÿæˆ | gemma-3-12b-it, llama3.1-8b | è»½é‡ã§ã‚‚ååˆ†ãªç²¾åº¦ |
| Ollamaæ¨å¥¨ | gemma3:latest | ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã§é«˜é€Ÿ |

---

### 5.6 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```python
async def process_with_retry(func, *args, max_retries=3, **kwargs):
    """
    LLM APIå‘¼ã³å‡ºã—ã®ãƒªãƒˆãƒ©ã‚¤å‡¦ç†
    """
    for attempt in range(max_retries):
        try:
            return await func(*args, **kwargs)
        except Exception as e:
            if attempt == max_retries - 1:
                raise
            await asyncio.sleep(2 ** attempt)  # Exponential backoff
```

---

## 6. ãƒ¢ãƒ‡ãƒ«ä»•æ§˜

### 6.1 ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ

| ãƒ•ã‚¡ã‚¤ãƒ«å | ã‚µã‚¤ã‚º | èª¬æ˜ |
|-----------|-------|------|
| ace_step_1.5_turbo_aio.safetensors | ~4GB | All-in-One (DiT + VAE + TextEncoder) |

### 6.2 å¯¾å¿œè¨€èª

```python
SUPPORTED_LANGUAGES = [
    "en",  # English
    "ja",  # Japanese
    "zh",  # Chinese
    "es",  # Spanish
    "de",  # German
    "fr",  # French
    "pt",  # Portuguese
    "ru",  # Russian
    "it",  # Italian
    "nl",  # Dutch
    "pl",  # Polish
    "tr",  # Turkish
    "vi",  # Vietnamese
    "cs",  # Czech
    "fa",  # Persian
    "id",  # Indonesian
    "ko",  # Korean
    "uk",  # Ukrainian
    "hu",  # Hungarian
    "ar",  # Arabic
    "sv",  # Swedish
    "ro",  # Romanian
    "el",  # Greek
]
```

### 6.3 å¯¾å¿œã‚­ãƒ¼ï¼ˆèª¿ï¼‰

```python
SUPPORTED_KEYS = [
    f"{root} {quality}"
    for quality in ["major", "minor"]
    for root in ["C", "C#", "Db", "D", "D#", "Eb", "E", "F", "F#", "Gb", "G", "G#", "Ab", "A", "A#", "Bb", "B"]
]
# çµæœ: ["C major", "C minor", "C# major", "C# minor", ...]
```

---

## 7. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

### 7.1 æ¨è«–æ™‚é–“ï¼ˆå‚è€ƒå€¤ï¼‰

| GPU | Steps | Duration | æ¨è«–æ™‚é–“ | RTF |
|-----|-------|----------|---------|-----|
| RTX 4090 | 8 | 60ç§’ | ~1.7ç§’ | 34x |
| RTX 3090 | 8 | 60ç§’ | ~4.7ç§’ | 12x |
| A100 | 8 | 60ç§’ | ~2.2ç§’ | 27x |

â€» RTF (Real-Time Factor): å€¤ãŒé«˜ã„ã»ã©é«˜é€Ÿ

### 7.2 VRAMä½¿ç”¨é‡

| è¨­å®š | VRAM |
|------|------|
| é€šå¸¸ | ~10GB |
| CPU Offload | ~8GB |
| bf16 | ~8GB |

---

## 8. REST API è©³ç´°ä»•æ§˜

### 8.1 ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | èª¬æ˜ |
|---------|---------------|------|
| POST | `/api/utility` | LLMå‡¦ç†ï¼ˆä½œè©ãƒ»ã‚¿ã‚°ç”Ÿæˆï¼‰ |
| POST | `/api/generate` | éŸ³æ¥½ç”Ÿæˆ |
| GET | `/ws/progress/{job_id}` | WebSocketé€²æ—ç›£è¦– |
| GET | `/output/{filename}` | ç”Ÿæˆæ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«å–å¾— |

### 8.2 ä½œè©API

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:** `POST /api/utility`

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```json
{
  "workflow": "lyrics_generate",
  "scenario": "å¤œç©ºã‚’è¦‹ä¸Šã’ã¦é¡˜ã„ã‚’è¾¼ã‚ã‚‹é­”æ³•å°‘å¥³ã®ç‰©èª",
  "genre": "pop, female voice, emotional",
  "language": "Japanese"
}
```

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|-----|------|
| workflow | string | âœ… | `"lyrics_generate"` å›ºå®š |
| scenario | string | âœ… | ãƒ†ãƒ¼ãƒ/ã‚·ãƒŠãƒªã‚ª |
| genre | string | - | ã‚¸ãƒ£ãƒ³ãƒ«ï¼ˆçœç•¥æ™‚: "pop"ï¼‰ |
| language | string | âœ… | è¨€èªå ("Japanese", "English", etc.) |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹

```json
{
  "status": "ok",
  "lyrics": "[intro]\n[inst]\n\n[verse]\nå¤œç©ºã«æµ®ã‹ã¶æ˜Ÿã‚’è¦‹ã¤ã‚ã¦...",
  "scenario": "å¤œç©ºã‚’è¦‹ä¸Šã’ã¦é¡˜ã„ã‚’è¾¼ã‚ã‚‹é­”æ³•å°‘å¥³ã®ç‰©èª",
  "genre": "pop, female voice, emotional",
  "language": "Japanese",
  "recommended_duration": 120,
  "parts_timing": {
    "intro": 5,
    "verse1": 25,
    "chorus1": 30,
    "verse2": 25,
    "chorus2": 30,
    "outro": 5
  }
}
```

### 8.3 ã‚¿ã‚°ç”ŸæˆAPI

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:** `POST /api/utility`

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```json
{
  "workflow": "lyrics_to_tags",
  "lyrics": "[verse]\nå¤œç©ºã«æµ®ã‹ã¶æ˜Ÿã‚’è¦‹ã¤ã‚ã¦\nã‚ã®æ—¥ã®ç´„æŸã‚’æ€ã„å‡ºã™\n..."
}
```

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|-----|------|
| workflow | string | âœ… | `"lyrics_to_tags"` å›ºå®š |
| lyrics | string | âœ… | æ­Œè©ãƒ†ã‚­ã‚¹ãƒˆ |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹

```json
{
  "status": "ok",
  "genre": "j-pop, anime, female voice, emotional ballad",
  "tags": "piano, strings, dreamy, hopeful, key: A minor, bpm: 90, slow tempo, cinematic"
}
```

### 8.4 éŸ³æ¥½ç”ŸæˆAPI

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:** `POST /api/generate`

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```json
{
  "workflow": "ace_step_1_5_t2a",
  "tags": "j-pop, female voice, emotional, piano, strings",
  "lyrics": "[verse]\nå¤œç©ºã«æµ®ã‹ã¶æ˜Ÿã‚’è¦‹ã¤ã‚ã¦\n...",
  "duration": 120,
  "bpm": 90,
  "timesignature": "4",
  "language": "ja",
  "keyscale": "A minor",
  "seed": -1
}
```

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | ç¯„å›²/å€¤ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----|--------|----------|------|
| workflow | string | - | - | `"ace_step_1_5_t2a"` å›ºå®š |
| tags | string | - | - | ã‚¸ãƒ£ãƒ³ãƒ«/ã‚¹ã‚¿ã‚¤ãƒ«ã‚¿ã‚° |
| lyrics | string | - | "" | æ­Œè©ï¼ˆæ§‹é€ ã‚¿ã‚°ä»˜ãï¼‰ |
| duration | int | 10-2000 | 60 | ç”Ÿæˆæ™‚é–“ï¼ˆç§’ï¼‰ |
| bpm | int | 10-300 | 120 | ãƒ†ãƒ³ãƒ |
| timesignature | string | "2","3","4","6" | "4" | æ‹å­ |
| language | string | è¨€èªã‚³ãƒ¼ãƒ‰ | "en" | è¨€èªï¼ˆæ­Œè©è§£é‡ˆç”¨ï¼‰ |
| keyscale | string | "C major"ç­‰ | "C major" | èª¿ |
| seed | int | -1 or >= 0 | -1 | ã‚·ãƒ¼ãƒ‰ï¼ˆ-1=ãƒ©ãƒ³ãƒ€ãƒ ï¼‰ |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆå³æ™‚ï¼‰

```json
{
  "status": "queued",
  "job_id": "abc123-def456-...",
  "message": "Generation queued"
}
```

### 8.5 WebSocketé€²æ—ç›£è¦–

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:** `ws://{host}/ws/progress/{job_id}`

#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼

```json
// é€²æ—æ›´æ–°
{
  "type": "progress",
  "step": 4,
  "total_steps": 8,
  "percent": 50
}

// å®Œäº†
{
  "type": "completed",
  "status": "ok",
  "output_url": "/output/ace_step_00001_.mp3",
  "duration": 120
}

// ã‚¨ãƒ©ãƒ¼
{
  "type": "error",
  "message": "Generation failed: ..."
}
```

### 8.6 TypeScriptå‹å®šç¾©

```typescript
// ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‹
interface LyricsGenerateRequest {
  workflow: "lyrics_generate";
  scenario: string;
  genre?: string;
  language: string;
}

interface TagsGenerateRequest {
  workflow: "lyrics_to_tags";
  lyrics: string;
}

interface MusicGenerateRequest {
  workflow: "ace_step_1_5_t2a";
  tags: string;
  lyrics?: string;
  duration?: number;      // 10-2000, default 60
  bpm?: number;           // 10-300, default 120
  timesignature?: "2" | "3" | "4" | "6";
  language?: string;      // è¨€èªã‚³ãƒ¼ãƒ‰
  keyscale?: string;      // "C major", "A minor", etc.
  seed?: number;          // -1 = random
}

// ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹
interface LyricsGenerateResponse {
  status: "ok" | "error";
  lyrics: string;
  scenario: string;
  genre: string;
  language: string;
  recommended_duration?: number;
  parts_timing?: Record<string, number>;
}

interface TagsGenerateResponse {
  status: "ok" | "error";
  genre: string;
  tags: string;
}

interface MusicGenerateResponse {
  status: "queued" | "error";
  job_id: string;
  message?: string;
}

interface ProgressMessage {
  type: "progress" | "completed" | "error";
  step?: number;
  total_steps?: number;
  percent?: number;
  output_url?: string;
  duration?: number;
  message?: string;
}
```

### 8.7 cURLä¾‹

```bash
# ä½œè©
curl -X POST http://localhost:8188/api/utility \
  -H "Content-Type: application/json" \
  -d '{
    "workflow": "lyrics_generate",
    "scenario": "å¤œç©ºã‚’è¦‹ä¸Šã’ã‚‹é­”æ³•å°‘å¥³",
    "genre": "pop, female voice",
    "language": "Japanese"
  }'

# ã‚¿ã‚°ç”Ÿæˆ
curl -X POST http://localhost:8188/api/utility \
  -H "Content-Type: application/json" \
  -d '{
    "workflow": "lyrics_to_tags",
    "lyrics": "[verse]\nå¤œç©ºã«æµ®ã‹ã¶æ˜Ÿã‚’è¦‹ã¤ã‚ã¦..."
  }'

# éŸ³æ¥½ç”Ÿæˆ
curl -X POST http://localhost:8188/api/generate \
  -H "Content-Type: application/json" \
  -d '{
    "workflow": "ace_step_1_5_t2a",
    "tags": "j-pop, female voice, emotional",
    "lyrics": "[verse]\nå¤œç©ºã«æµ®ã‹ã¶æ˜Ÿã‚’è¦‹ã¤ã‚ã¦...",
    "duration": 120,
    "bpm": 90,
    "keyscale": "A minor",
    "language": "ja"
  }'
```

---

## 9. ç‹¬ç«‹Webã‚¢ãƒ—ãƒªå®Ÿè£…ã‚¬ã‚¤ãƒ‰

### 9.1 æœ€å°æ§‹æˆ

```
ace-step-webapp/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app.py              # FastAPI ã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ inference.py        # ACE-Stepæ¨è«–ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ llm_service.py      # LLM API (ä½œè©/ã‚¿ã‚°)
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ app.js
â”‚   â””â”€â”€ styles.css
â””â”€â”€ models/
    â””â”€â”€ ace_step_1.5_turbo_aio.safetensors
```

### 9.2 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…ä¾‹ (FastAPI)

```python
from fastapi import FastAPI, BackgroundTasks
from pydantic import BaseModel
import uuid

app = FastAPI()

class GenerateRequest(BaseModel):
    tags: str
    lyrics: str = ""
    duration: int = 60
    bpm: int = 120
    timesignature: str = "4"
    language: str = "ja"
    keyscale: str = "C major"
    steps: int = 8
    cfg: float = 1.0
    seed: int = None

@app.post("/api/generate")
async def generate(request: GenerateRequest, background_tasks: BackgroundTasks):
    job_id = str(uuid.uuid4())
    background_tasks.add_task(run_inference, job_id, request)
    return {"job_id": job_id, "status": "queued"}

async def run_inference(job_id: str, request: GenerateRequest):
    # ACE-Stepæ¨è«–å®Ÿè¡Œ
    # ... 
    pass
```

### 9.3 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…ä¾‹

```javascript
class ACEStepClient {
    constructor(baseUrl) {
        this.baseUrl = baseUrl;
    }
    
    async generate(params) {
        const response = await fetch(`${this.baseUrl}/api/generate`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(params)
        });
        return response.json();
    }
    
    async composeLyrics(scenario, genre, language) {
        const response = await fetch(`${this.baseUrl}/api/utility`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                workflow: 'lyrics_generate',
                scenario, genre, language
            })
        });
        return response.json();
    }
    
    monitorProgress(jobId, onProgress, onComplete) {
        const ws = new WebSocket(`ws://${this.baseUrl.replace('http://', '')}/ws/progress/${jobId}`);
        ws.onmessage = (event) => {
            const data = JSON.parse(event.data);
            if (data.status === 'completed') {
                onComplete(data);
            } else {
                onProgress(data);
            }
        };
    }
}
```

---

## 10. å‚è€ƒãƒªãƒ³ã‚¯

- [ACE-Step GitHub](https://github.com/ace-step/ACE-Step)
- [ACE-Step Technical Report](https://arxiv.org/abs/2506.00045)
- [Hugging Face Model](https://huggingface.co/ACE-Step/ACE-Step-v1-3.5B)

---

## âœ… Standalone Webã‚¢ãƒ—ãƒªé–‹ç™ºå®Œäº†

ã“ã®ä»•æ§˜æ›¸ã«åŸºã¥ã„ã¦ **ace_step_standalone** Webã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ã¾ã—ãŸã€‚

### å®Ÿè£…å†…å®¹

| æ©Ÿèƒ½ | çŠ¶æ…‹ | å‚™è€ƒ |
|------|------|------|
| ãƒ†ãƒ¼ãƒå…¥åŠ› â†’ AIä½œè© | âœ… å®Œäº† | LLM APIé€£æº |
| ã‚¿ã‚°è‡ªå‹•ç”Ÿæˆ | âœ… å®Œäº† | LLM APIé€£æº |
| éŸ³æ¥½ç”Ÿæˆ | âœ… å®Œäº† | ACE-Step APIé€£æº |
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š | âœ… å®Œäº† | STEP/CFG/SEED/BPM/èª¿/æ‹å­ |
| ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼ | âœ… å®Œäº† | Web Audio API |
| éŸ³å£°ãƒ—ãƒ­ã‚­ã‚· | âœ… å®Œäº† | CORSå¯¾å¿œ |
| è©³ç´°è¨­å®šã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ | âœ… å®Œäº† | CFG/SEED |
| ã‚µãƒ¼ãƒãƒ¼æƒ…å ±è¡¨ç¤º | âœ… å®Œäº† | ãƒ¢ãƒ‡ãƒ«/ã‚­ãƒ¥ãƒ¼çŠ¶æ…‹ |

### é–‹ç™ºã§åˆ¤æ˜ã—ãŸä¿®æ­£ç‚¹

1. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åã®è¨‚æ­£**:
   - âœ— `infer_step` â†’ âœ… `inference_steps`
   - âœ— `task_id` â†’ âœ… `task_ids` ã¾ãŸã¯ `task_id_list`

2. **ã‚­ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«**:
   - 34ç¨®é¡å¯¾å¿œï¼ˆCã€œB Ã— major/minorã€#/bå«ã‚€ï¼‰

3. **æ‹å­ã®é¸æŠè‚¢**:
   - `2/2`, `2/4`, `3/4`, `4/4`, `5/4`, `6/8`, `7/8`, `12/8`

4. **CORSå¯¾å¿œ**:
   - ACE-Step APIã‹ã‚‰ç›´æ¥éŸ³å£°å–å¾—æ™‚ã¯CORSã‚¨ãƒ©ãƒ¼
   - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ãƒ—ãƒ­ã‚­ã‚·APIãŒå¿…è¦

5. **Turboãƒ¢ãƒ‡ãƒ«æ¨å¥¨å€¤**:
   - inference_steps: **8**
   - guidance_scale: **3.0**ï¼ˆåŠ¹æœé™å®šçš„ï¼‰

### ãƒ‘ã‚¹

ã‚¢ãƒ—ãƒª: `ace_step_standalone/`  
README: `../README.md`

---

